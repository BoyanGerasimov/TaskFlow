Started by user Boyan Gerasimov 
Obtained Jenkinsfile from git https://github.com/BoyanGerasimov/TaskFlow.git
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /var/lib/jenkins/workspace/TaskFlow-CI
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
The recommended git tool is: git
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/TaskFlow-CI/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/BoyanGerasimov/TaskFlow.git # timeout=10
Fetching upstream changes from https://github.com/BoyanGerasimov/TaskFlow.git
 > git --version # timeout=10
 > git --version # 'git version 2.43.0'
 > git fetch --tags --force --progress -- https://github.com/BoyanGerasimov/TaskFlow.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 3aea99439c9a899d77202c08225aa2d532f63a9e (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 3aea99439c9a899d77202c08225aa2d532f63a9e # timeout=10
Commit message: "Update Jenkinsfile"
 > git rev-list --no-walk 892f8ef54288ab1866c16d1a0303973a0a4672ae # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Checkout)
[Pipeline] git
The recommended git tool is: git
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/TaskFlow-CI/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/BoyanGerasimov/TaskFlow.git # timeout=10
Fetching upstream changes from https://github.com/BoyanGerasimov/TaskFlow.git
 > git --version # timeout=10
 > git --version # 'git version 2.43.0'
 > git fetch --tags --force --progress -- https://github.com/BoyanGerasimov/TaskFlow.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 3aea99439c9a899d77202c08225aa2d532f63a9e (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 3aea99439c9a899d77202c08225aa2d532f63a9e # timeout=10
 > git branch -a -v --no-abbrev # timeout=10
 > git branch -D main # timeout=10
 > git checkout -b main 3aea99439c9a899d77202c08225aa2d532f63a9e # timeout=10
Commit message: "Update Jenkinsfile"
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build Backend)
[Pipeline] dir
Running in /var/lib/jenkins/workspace/TaskFlow-CI/backend
[Pipeline] {
[Pipeline] sh
+ python3 -m venv venv
+ . venv/bin/activate
+ deactivate nondestructive
+ [ -n  ]
+ [ -n  ]
+ hash -r
+ [ -n  ]
+ unset VIRTUAL_ENV
+ unset VIRTUAL_ENV_PROMPT
+ [ ! nondestructive = nondestructive ]
+ [  = cygwin ]
+ [  = msys ]
+ export VIRTUAL_ENV=/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv
+ _OLD_VIRTUAL_PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/snap/bin
+ PATH=/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/snap/bin
+ export PATH
+ [ -n  ]
+ [ -z  ]
+ _OLD_VIRTUAL_PS1=$ 
+ PS1=(venv) $ 
+ export PS1
+ VIRTUAL_ENV_PROMPT=(venv) 
+ export VIRTUAL_ENV_PROMPT
+ hash -r
+ pwd
+ export PYTHONPATH=:/var/lib/jenkins/workspace/TaskFlow-CI/backend
+ pip install -r ../requirements.txt
Requirement already satisfied: fastapi==0.109.2 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 1)) (0.109.2)
Requirement already satisfied: uvicorn==0.27.1 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 2)) (0.27.1)
Requirement already satisfied: sqlalchemy==2.0.27 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 3)) (2.0.27)
Requirement already satisfied: psycopg2-binary==2.9.9 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 4)) (2.9.9)
Requirement already satisfied: python-jose==3.3.0 in ./venv/lib/python3.12/site-packages (from python-jose[cryptography]==3.3.0->-r ../requirements.txt (line 5)) (3.3.0)
Requirement already satisfied: passlib==1.7.4 in ./venv/lib/python3.12/site-packages (from passlib[bcrypt]==1.7.4->-r ../requirements.txt (line 6)) (1.7.4)
Requirement already satisfied: python-multipart==0.0.9 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 7)) (0.0.9)
Requirement already satisfied: alembic==1.13.1 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 8)) (1.13.1)
Requirement already satisfied: redis==5.0.1 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 9)) (5.0.1)
Requirement already satisfied: python-dotenv==1.0.1 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 10)) (1.0.1)
Requirement already satisfied: pydantic==2.6.1 in ./venv/lib/python3.12/site-packages (from pydantic[email]==2.6.1->-r ../requirements.txt (line 11)) (2.6.1)
Requirement already satisfied: email-validator==2.1.0.post1 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 12)) (2.1.0.post1)
Requirement already satisfied: bcrypt==4.1.2 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 13)) (4.1.2)
Requirement already satisfied: pytest==8.0.0 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 16)) (8.0.0)
Requirement already satisfied: pytest-asyncio==0.23.5 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 17)) (0.23.5)
Requirement already satisfied: pytest-cov==4.0.0 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 18)) (4.0.0)
Requirement already satisfied: httpx==0.26.0 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 19)) (0.26.0)
Requirement already satisfied: coverage==7.4.0 in ./venv/lib/python3.12/site-packages (from -r ../requirements.txt (line 20)) (7.4.0)
Requirement already satisfied: starlette<0.37.0,>=0.36.3 in ./venv/lib/python3.12/site-packages (from fastapi==0.109.2->-r ../requirements.txt (line 1)) (0.36.3)
Requirement already satisfied: typing-extensions>=4.8.0 in ./venv/lib/python3.12/site-packages (from fastapi==0.109.2->-r ../requirements.txt (line 1)) (4.14.0)
Requirement already satisfied: click>=7.0 in ./venv/lib/python3.12/site-packages (from uvicorn==0.27.1->-r ../requirements.txt (line 2)) (8.2.1)
Requirement already satisfied: h11>=0.8 in ./venv/lib/python3.12/site-packages (from uvicorn==0.27.1->-r ../requirements.txt (line 2)) (0.16.0)
Requirement already satisfied: greenlet!=0.4.17 in ./venv/lib/python3.12/site-packages (from sqlalchemy==2.0.27->-r ../requirements.txt (line 3)) (3.2.3)
Requirement already satisfied: ecdsa!=0.15 in ./venv/lib/python3.12/site-packages (from python-jose==3.3.0->python-jose[cryptography]==3.3.0->-r ../requirements.txt (line 5)) (0.19.1)
Requirement already satisfied: rsa in ./venv/lib/python3.12/site-packages (from python-jose==3.3.0->python-jose[cryptography]==3.3.0->-r ../requirements.txt (line 5)) (4.9.1)
Requirement already satisfied: pyasn1 in ./venv/lib/python3.12/site-packages (from python-jose==3.3.0->python-jose[cryptography]==3.3.0->-r ../requirements.txt (line 5)) (0.6.1)
Requirement already satisfied: Mako in ./venv/lib/python3.12/site-packages (from alembic==1.13.1->-r ../requirements.txt (line 8)) (1.3.10)
Requirement already satisfied: annotated-types>=0.4.0 in ./venv/lib/python3.12/site-packages (from pydantic==2.6.1->pydantic[email]==2.6.1->-r ../requirements.txt (line 11)) (0.7.0)
Requirement already satisfied: pydantic-core==2.16.2 in ./venv/lib/python3.12/site-packages (from pydantic==2.6.1->pydantic[email]==2.6.1->-r ../requirements.txt (line 11)) (2.16.2)
Requirement already satisfied: dnspython>=2.0.0 in ./venv/lib/python3.12/site-packages (from email-validator==2.1.0.post1->-r ../requirements.txt (line 12)) (2.7.0)
Requirement already satisfied: idna>=2.0.0 in ./venv/lib/python3.12/site-packages (from email-validator==2.1.0.post1->-r ../requirements.txt (line 12)) (3.10)
Requirement already satisfied: iniconfig in ./venv/lib/python3.12/site-packages (from pytest==8.0.0->-r ../requirements.txt (line 16)) (2.1.0)
Requirement already satisfied: packaging in ./venv/lib/python3.12/site-packages (from pytest==8.0.0->-r ../requirements.txt (line 16)) (25.0)
Requirement already satisfied: pluggy<2.0,>=1.3.0 in ./venv/lib/python3.12/site-packages (from pytest==8.0.0->-r ../requirements.txt (line 16)) (1.6.0)
Requirement already satisfied: anyio in ./venv/lib/python3.12/site-packages (from httpx==0.26.0->-r ../requirements.txt (line 19)) (4.9.0)
Requirement already satisfied: certifi in ./venv/lib/python3.12/site-packages (from httpx==0.26.0->-r ../requirements.txt (line 19)) (2025.4.26)
Requirement already satisfied: httpcore==1.* in ./venv/lib/python3.12/site-packages (from httpx==0.26.0->-r ../requirements.txt (line 19)) (1.0.9)
Requirement already satisfied: sniffio in ./venv/lib/python3.12/site-packages (from httpx==0.26.0->-r ../requirements.txt (line 19)) (1.3.1)
Requirement already satisfied: cryptography>=3.4.0 in ./venv/lib/python3.12/site-packages (from python-jose[cryptography]==3.3.0->-r ../requirements.txt (line 5)) (45.0.3)
Requirement already satisfied: cffi>=1.14 in ./venv/lib/python3.12/site-packages (from cryptography>=3.4.0->python-jose[cryptography]==3.3.0->-r ../requirements.txt (line 5)) (1.17.1)
Requirement already satisfied: six>=1.9.0 in ./venv/lib/python3.12/site-packages (from ecdsa!=0.15->python-jose==3.3.0->python-jose[cryptography]==3.3.0->-r ../requirements.txt (line 5)) (1.17.0)
Requirement already satisfied: MarkupSafe>=0.9.2 in ./venv/lib/python3.12/site-packages (from Mako->alembic==1.13.1->-r ../requirements.txt (line 8)) (3.0.2)
Requirement already satisfied: pycparser in ./venv/lib/python3.12/site-packages (from cffi>=1.14->cryptography>=3.4.0->python-jose[cryptography]==3.3.0->-r ../requirements.txt (line 5)) (2.22)
+ pytest
============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.0.0, pluggy-1.6.0
rootdir: /var/lib/jenkins/workspace/TaskFlow-CI/backend
configfile: pytest.ini
plugins: asyncio-0.23.5, anyio-4.9.0, cov-4.0.0
asyncio: mode=Mode.STRICT
collected 21 items

tests/test_auth.py .....                                                 [ 23%]
tests/test_health.py .F.                                                 [ 38%]
tests/test_projects.py F.F.FF                                            [ 66%]
tests/test_tasks.py FFFFFF.                                              [100%]

=================================== FAILURES ===================================
__________________________ test_detailed_health_check __________________________

client = <starlette.testclient.TestClient object at 0x7da720322360>

    def test_detailed_health_check(client):
        """Test detailed health check endpoint."""
        response = client.get("/health/detailed")
>       assert response.status_code == status.HTTP_200_OK
E       assert 503 == 200
E        +  where 503 = <Response [503 Service Unavailable]>.status_code
E        +  and   200 = status.HTTP_200_OK

tests/test_health.py:15: AssertionError
----------------------------- Captured stderr call -----------------------------
INFO:main:GET /health/detailed - Status: 503 - Duration: 0.0035s
INFO:httpx:HTTP Request: GET http://testserver/health/detailed "HTTP/1.1 503 Service Unavailable"
------------------------------ Captured log call -------------------------------
INFO     main:main.py:33 GET /health/detailed - Status: 503 - Duration: 0.0035s
INFO     httpx:_client.py:1027 HTTP Request: GET http://testserver/health/detailed "HTTP/1.1 503 Service Unavailable"
_____________________________ test_create_project ______________________________
  + Exception Group Traceback (most recent call last):
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 345, in from_call
    |     result: Optional[TResult] = func()
    |                                 ^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 266, in <lambda>
    |     lambda: ihook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 87, in pytest_runtest_call
    |     yield from thread_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 63, in thread_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 90, in pytest_runtest_call
    |     yield from unraisable_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 65, in unraisable_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 839, in pytest_runtest_call
    |     yield from self._runtest_for(item, "call")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 822, in _runtest_for
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/capture.py", line 882, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/skipping.py", line 257, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 181, in pytest_runtest_call
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 173, in pytest_runtest_call
    |     item.runtest()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 1836, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 193, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/tests/test_projects.py", line 14, in test_create_project
    |     response = client.post("/projects", json=project_data, headers=auth_headers)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 608, in post
    |     return super().post(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1146, in post
    |     return self.request(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 491, in request
    |     return super().request(
    |            ^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 828, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 915, in send
    |     response = self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 943, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 980, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1016, in _send_single_request
    |     response = transport.handle_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 372, in handle_request
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 369, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 290, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 221, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/main.py", line 31, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/routers/projects.py", line 35, in create_project
    |     cache.clear_pattern(f"projects:user:{current_user.id}:*")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/core/cache.py", line 43, in clear_pattern
    |     keys = self.redis_client.keys(pattern)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/commands/core.py", line 1972, in keys
    |     return self.execute_command("KEYS", pattern, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/client.py", line 533, in execute_command
    |     conn = self.connection or pool.get_connection(command_name, **options)
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 1086, in get_connection
    |     connection.connect()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 270, in connect
    |     raise ConnectionError(self._error_message(e))
    | redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
    +------------------------------------

During handling of the above exception, another exception occurred:

client = <starlette.testclient.TestClient object at 0x7da7203b1fa0>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImV4cCI6MTc0OTQ1ODIxNn0.e_yPBCphr8ns9jTASpTNcJmhFDTc2rx8rravgW28gTU'}

    def test_create_project(client, auth_headers):
        """Test creating a new project."""
        project_data = {
            "name": "Test Project",
            "description": "A test project",
            "status": "Not Started",
            "start_date": "2024-01-01",
            "end_date": "2024-12-31"
        }
>       response = client.post("/projects", json=project_data, headers=auth_headers)

tests/test_projects.py:14: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.12/site-packages/starlette/testclient.py:608: in post
    return super().post(
venv/lib/python3.12/site-packages/httpx/_client.py:1146: in post
    return self.request(
venv/lib/python3.12/site-packages/starlette/testclient.py:491: in request
    return super().request(
venv/lib/python3.12/site-packages/httpx/_client.py:828: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
venv/lib/python3.12/site-packages/httpx/_client.py:915: in send
    response = self._send_handling_auth(
venv/lib/python3.12/site-packages/httpx/_client.py:943: in _send_handling_auth
    response = self._send_handling_redirects(
venv/lib/python3.12/site-packages/httpx/_client.py:980: in _send_handling_redirects
    response = self._send_single_request(request)
venv/lib/python3.12/site-packages/httpx/_client.py:1016: in _send_single_request
    response = transport.handle_request(request)
venv/lib/python3.12/site-packages/starlette/testclient.py:372: in handle_request
    raise exc
venv/lib/python3.12/site-packages/starlette/testclient.py:369: in handle_request
    portal.call(self.app, scope, receive, send)
venv/lib/python3.12/site-packages/anyio/from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
venv/lib/python3.12/site-packages/anyio/from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
venv/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
main.py:31: in log_requests
    response = await call_next(request)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:74: in app
    response = await func(request)
venv/lib/python3.12/site-packages/fastapi/routing.py:299: in app
    raise e
venv/lib/python3.12/site-packages/fastapi/routing.py:294: in app
    raw_response = await run_endpoint_function(
venv/lib/python3.12/site-packages/fastapi/routing.py:191: in run_endpoint_function
    return await dependant.call(**values)
routers/projects.py:35: in create_project
    cache.clear_pattern(f"projects:user:{current_user.id}:*")
core/cache.py:43: in clear_pattern
    keys = self.redis_client.keys(pattern)
venv/lib/python3.12/site-packages/redis/commands/core.py:1972: in keys
    return self.execute_command("KEYS", pattern, **kwargs)
venv/lib/python3.12/site-packages/redis/client.py:533: in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
venv/lib/python3.12/site-packages/redis/connection.py:1086: in get_connection
    connection.connect()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Connection<host=redis,port=6379,db=0>

    def connect(self):
        "Connects to the Redis server if not already connected"
        if self._sock:
            return
        try:
            sock = self.retry.call_with_retry(
                lambda: self._connect(), lambda error: self.disconnect(error)
            )
        except socket.timeout:
            raise TimeoutError("Timeout connecting to server")
        except OSError as e:
>           raise ConnectionError(self._error_message(e))
E           redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.

venv/lib/python3.12/site-packages/redis/connection.py:270: ConnectionError
---------------------------- Captured stderr setup -----------------------------
INFO:main:POST /auth/token - Status: 200 - Duration: 0.2218s
INFO:httpx:HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
INFO     main:main.py:33 POST /auth/token - Status: 200 - Duration: 0.2218s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stderr call -----------------------------
INFO:main:POST /projects - Status: 307 - Duration: 0.0004s
INFO:httpx:HTTP Request: POST http://testserver/projects "HTTP/1.1 307 Temporary Redirect"
ERROR:main:Global exception on /projects/: Error -3 connecting to redis:6379. Temporary failure in name resolution.
------------------------------ Captured log call -------------------------------
INFO     main:main.py:33 POST /projects - Status: 307 - Duration: 0.0004s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/projects "HTTP/1.1 307 Temporary Redirect"
ERROR    main:main.py:43 Global exception on /projects/: Error -3 connecting to redis:6379. Temporary failure in name resolution.
______________________________ test_get_projects _______________________________
  + Exception Group Traceback (most recent call last):
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 345, in from_call
    |     result: Optional[TResult] = func()
    |                                 ^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 266, in <lambda>
    |     lambda: ihook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 87, in pytest_runtest_call
    |     yield from thread_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 63, in thread_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 90, in pytest_runtest_call
    |     yield from unraisable_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 65, in unraisable_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 839, in pytest_runtest_call
    |     yield from self._runtest_for(item, "call")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 822, in _runtest_for
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/capture.py", line 882, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/skipping.py", line 257, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 181, in pytest_runtest_call
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 173, in pytest_runtest_call
    |     item.runtest()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 1836, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 193, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/tests/test_projects.py", line 44, in test_get_projects
    |     response = client.get("/projects", headers=auth_headers)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 523, in get
    |     return super().get(
    |            ^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1055, in get
    |     return self.request(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 491, in request
    |     return super().request(
    |            ^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 828, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 915, in send
    |     response = self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 943, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 980, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1016, in _send_single_request
    |     response = transport.handle_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 372, in handle_request
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 369, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 290, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 221, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/main.py", line 31, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/routers/projects.py", line 47, in read_projects
    |     cached_projects = cache.get(cache_key)
    |                       ^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/core/cache.py", line 26, in get
    |     data = self.redis_client.get(key)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/commands/core.py", line 1829, in get
    |     return self.execute_command("GET", name)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/client.py", line 533, in execute_command
    |     conn = self.connection or pool.get_connection(command_name, **options)
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 1086, in get_connection
    |     connection.connect()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 270, in connect
    |     raise ConnectionError(self._error_message(e))
    | redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
    +------------------------------------

During handling of the above exception, another exception occurred:

client = <starlette.testclient.TestClient object at 0x7da720317bc0>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImV4cCI6MTc0OTQ1ODIxN30.55laoxfKd_74SYTV6-sYbGvMe5Cywdjxhda2_muyS1s'}
test_user = <models.User object at 0x7da720317f50>
db_session = <sqlalchemy.orm.session.Session object at 0x7da720317410>

    def test_get_projects(client, auth_headers, test_user, db_session):
        """Test retrieving projects."""
        from models import Project
    
        # Create test project
        project = Project(
            name="Test Project",
            description="Test description",
            status="In Progress",
            owner_id=test_user.id
        )
        db_session.add(project)
        db_session.commit()
    
>       response = client.get("/projects", headers=auth_headers)

tests/test_projects.py:44: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.12/site-packages/starlette/testclient.py:523: in get
    return super().get(
venv/lib/python3.12/site-packages/httpx/_client.py:1055: in get
    return self.request(
venv/lib/python3.12/site-packages/starlette/testclient.py:491: in request
    return super().request(
venv/lib/python3.12/site-packages/httpx/_client.py:828: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
venv/lib/python3.12/site-packages/httpx/_client.py:915: in send
    response = self._send_handling_auth(
venv/lib/python3.12/site-packages/httpx/_client.py:943: in _send_handling_auth
    response = self._send_handling_redirects(
venv/lib/python3.12/site-packages/httpx/_client.py:980: in _send_handling_redirects
    response = self._send_single_request(request)
venv/lib/python3.12/site-packages/httpx/_client.py:1016: in _send_single_request
    response = transport.handle_request(request)
venv/lib/python3.12/site-packages/starlette/testclient.py:372: in handle_request
    raise exc
venv/lib/python3.12/site-packages/starlette/testclient.py:369: in handle_request
    portal.call(self.app, scope, receive, send)
venv/lib/python3.12/site-packages/anyio/from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
venv/lib/python3.12/site-packages/anyio/from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
venv/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
main.py:31: in log_requests
    response = await call_next(request)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:74: in app
    response = await func(request)
venv/lib/python3.12/site-packages/fastapi/routing.py:299: in app
    raise e
venv/lib/python3.12/site-packages/fastapi/routing.py:294: in app
    raw_response = await run_endpoint_function(
venv/lib/python3.12/site-packages/fastapi/routing.py:191: in run_endpoint_function
    return await dependant.call(**values)
routers/projects.py:47: in read_projects
    cached_projects = cache.get(cache_key)
core/cache.py:26: in get
    data = self.redis_client.get(key)
venv/lib/python3.12/site-packages/redis/commands/core.py:1829: in get
    return self.execute_command("GET", name)
venv/lib/python3.12/site-packages/redis/client.py:533: in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
venv/lib/python3.12/site-packages/redis/connection.py:1086: in get_connection
    connection.connect()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Connection<host=redis,port=6379,db=0>

    def connect(self):
        "Connects to the Redis server if not already connected"
        if self._sock:
            return
        try:
            sock = self.retry.call_with_retry(
                lambda: self._connect(), lambda error: self.disconnect(error)
            )
        except socket.timeout:
            raise TimeoutError("Timeout connecting to server")
        except OSError as e:
>           raise ConnectionError(self._error_message(e))
E           redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.

venv/lib/python3.12/site-packages/redis/connection.py:270: ConnectionError
---------------------------- Captured stderr setup -----------------------------
INFO:main:POST /auth/token - Status: 200 - Duration: 0.2092s
INFO:httpx:HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
INFO     main:main.py:33 POST /auth/token - Status: 200 - Duration: 0.2092s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stderr call -----------------------------
INFO:main:GET /projects - Status: 307 - Duration: 0.0002s
INFO:httpx:HTTP Request: GET http://testserver/projects "HTTP/1.1 307 Temporary Redirect"
ERROR:main:Global exception on /projects/: Error -3 connecting to redis:6379. Temporary failure in name resolution.
------------------------------ Captured log call -------------------------------
INFO     main:main.py:33 GET /projects - Status: 307 - Duration: 0.0002s
INFO     httpx:_client.py:1027 HTTP Request: GET http://testserver/projects "HTTP/1.1 307 Temporary Redirect"
ERROR    main:main.py:43 Global exception on /projects/: Error -3 connecting to redis:6379. Temporary failure in name resolution.
_____________________________ test_update_project ______________________________
  + Exception Group Traceback (most recent call last):
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 345, in from_call
    |     result: Optional[TResult] = func()
    |                                 ^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 266, in <lambda>
    |     lambda: ihook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 87, in pytest_runtest_call
    |     yield from thread_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 63, in thread_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 90, in pytest_runtest_call
    |     yield from unraisable_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 65, in unraisable_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 839, in pytest_runtest_call
    |     yield from self._runtest_for(item, "call")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 822, in _runtest_for
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/capture.py", line 882, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/skipping.py", line 257, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 181, in pytest_runtest_call
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 173, in pytest_runtest_call
    |     item.runtest()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 1836, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 193, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/tests/test_projects.py", line 86, in test_update_project
    |     response = client.put(f"/projects/{project.id}", json=update_data, headers=auth_headers)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 643, in put
    |     return super().put(
    |            ^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1183, in put
    |     return self.request(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 491, in request
    |     return super().request(
    |            ^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 828, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 915, in send
    |     response = self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 943, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 980, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1016, in _send_single_request
    |     response = transport.handle_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 372, in handle_request
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 369, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 290, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 221, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/main.py", line 31, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/routers/projects.py", line 90, in update_project
    |     cache.clear_pattern(f"projects:user:{current_user.id}:*")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/core/cache.py", line 43, in clear_pattern
    |     keys = self.redis_client.keys(pattern)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/commands/core.py", line 1972, in keys
    |     return self.execute_command("KEYS", pattern, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/client.py", line 533, in execute_command
    |     conn = self.connection or pool.get_connection(command_name, **options)
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 1086, in get_connection
    |     connection.connect()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 270, in connect
    |     raise ConnectionError(self._error_message(e))
    | redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
    +------------------------------------

During handling of the above exception, another exception occurred:

client = <starlette.testclient.TestClient object at 0x7da7203add90>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImV4cCI6MTc0OTQ1ODIxOH0.ZqJJBk4CQM-zCyb9AexPrcpkF1jO-YHd6ZCbu20PCiw'}
test_user = <models.User object at 0x7da7203c0bf0>
db_session = <sqlalchemy.orm.session.Session object at 0x7da7203aee10>

    def test_update_project(client, auth_headers, test_user, db_session):
        """Test updating a project."""
        from models import Project
    
        project = Project(
            name="Original Name",
            description="Original description",
            owner_id=test_user.id
        )
        db_session.add(project)
        db_session.commit()
        db_session.refresh(project)
    
        update_data = {
            "name": "Updated Name",
            "status": "In Progress"
        }
>       response = client.put(f"/projects/{project.id}", json=update_data, headers=auth_headers)

tests/test_projects.py:86: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.12/site-packages/starlette/testclient.py:643: in put
    return super().put(
venv/lib/python3.12/site-packages/httpx/_client.py:1183: in put
    return self.request(
venv/lib/python3.12/site-packages/starlette/testclient.py:491: in request
    return super().request(
venv/lib/python3.12/site-packages/httpx/_client.py:828: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
venv/lib/python3.12/site-packages/httpx/_client.py:915: in send
    response = self._send_handling_auth(
venv/lib/python3.12/site-packages/httpx/_client.py:943: in _send_handling_auth
    response = self._send_handling_redirects(
venv/lib/python3.12/site-packages/httpx/_client.py:980: in _send_handling_redirects
    response = self._send_single_request(request)
venv/lib/python3.12/site-packages/httpx/_client.py:1016: in _send_single_request
    response = transport.handle_request(request)
venv/lib/python3.12/site-packages/starlette/testclient.py:372: in handle_request
    raise exc
venv/lib/python3.12/site-packages/starlette/testclient.py:369: in handle_request
    portal.call(self.app, scope, receive, send)
venv/lib/python3.12/site-packages/anyio/from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
venv/lib/python3.12/site-packages/anyio/from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
venv/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
main.py:31: in log_requests
    response = await call_next(request)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:74: in app
    response = await func(request)
venv/lib/python3.12/site-packages/fastapi/routing.py:299: in app
    raise e
venv/lib/python3.12/site-packages/fastapi/routing.py:294: in app
    raw_response = await run_endpoint_function(
venv/lib/python3.12/site-packages/fastapi/routing.py:191: in run_endpoint_function
    return await dependant.call(**values)
routers/projects.py:90: in update_project
    cache.clear_pattern(f"projects:user:{current_user.id}:*")
core/cache.py:43: in clear_pattern
    keys = self.redis_client.keys(pattern)
venv/lib/python3.12/site-packages/redis/commands/core.py:1972: in keys
    return self.execute_command("KEYS", pattern, **kwargs)
venv/lib/python3.12/site-packages/redis/client.py:533: in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
venv/lib/python3.12/site-packages/redis/connection.py:1086: in get_connection
    connection.connect()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Connection<host=redis,port=6379,db=0>

    def connect(self):
        "Connects to the Redis server if not already connected"
        if self._sock:
            return
        try:
            sock = self.retry.call_with_retry(
                lambda: self._connect(), lambda error: self.disconnect(error)
            )
        except socket.timeout:
            raise TimeoutError("Timeout connecting to server")
        except OSError as e:
>           raise ConnectionError(self._error_message(e))
E           redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.

venv/lib/python3.12/site-packages/redis/connection.py:270: ConnectionError
---------------------------- Captured stderr setup -----------------------------
INFO:main:POST /auth/token - Status: 200 - Duration: 0.2863s
INFO:httpx:HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
INFO     main:main.py:33 POST /auth/token - Status: 200 - Duration: 0.2863s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stderr call -----------------------------
ERROR:main:Global exception on /projects/1: Error -3 connecting to redis:6379. Temporary failure in name resolution.
------------------------------ Captured log call -------------------------------
ERROR    main:main.py:43 Global exception on /projects/1: Error -3 connecting to redis:6379. Temporary failure in name resolution.
_____________________________ test_delete_project ______________________________
  + Exception Group Traceback (most recent call last):
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 345, in from_call
    |     result: Optional[TResult] = func()
    |                                 ^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 266, in <lambda>
    |     lambda: ihook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 87, in pytest_runtest_call
    |     yield from thread_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 63, in thread_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 90, in pytest_runtest_call
    |     yield from unraisable_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 65, in unraisable_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 839, in pytest_runtest_call
    |     yield from self._runtest_for(item, "call")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 822, in _runtest_for
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/capture.py", line 882, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/skipping.py", line 257, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 181, in pytest_runtest_call
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 173, in pytest_runtest_call
    |     item.runtest()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 1836, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 193, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/tests/test_projects.py", line 105, in test_delete_project
    |     response = client.delete(f"/projects/{project.id}", headers=auth_headers)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 709, in delete
    |     return super().delete(
    |            ^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1253, in delete
    |     return self.request(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 491, in request
    |     return super().request(
    |            ^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 828, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 915, in send
    |     response = self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 943, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 980, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1016, in _send_single_request
    |     response = transport.handle_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 372, in handle_request
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 369, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 290, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 221, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/main.py", line 31, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/routers/projects.py", line 107, in delete_project
    |     cache.clear_pattern(f"projects:user:{current_user.id}:*")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/core/cache.py", line 43, in clear_pattern
    |     keys = self.redis_client.keys(pattern)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/commands/core.py", line 1972, in keys
    |     return self.execute_command("KEYS", pattern, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/client.py", line 533, in execute_command
    |     conn = self.connection or pool.get_connection(command_name, **options)
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 1086, in get_connection
    |     connection.connect()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 270, in connect
    |     raise ConnectionError(self._error_message(e))
    | redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
    +------------------------------------

During handling of the above exception, another exception occurred:

client = <starlette.testclient.TestClient object at 0x7da720316fc0>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImV4cCI6MTc0OTQ1ODIxOX0.Ln1HWEzl7z36pilNJp_-5GxeZa6_n-IGCS8gfCp1xyk'}
test_user = <models.User object at 0x7da71eeeb0e0>
db_session = <sqlalchemy.orm.session.Session object at 0x7da720323e90>

    def test_delete_project(client, auth_headers, test_user, db_session):
        """Test deleting a project."""
        from models import Project
    
        project = Project(
            name="To Delete",
            description="Will be deleted",
            owner_id=test_user.id
        )
        db_session.add(project)
        db_session.commit()
        db_session.refresh(project)
    
>       response = client.delete(f"/projects/{project.id}", headers=auth_headers)

tests/test_projects.py:105: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.12/site-packages/starlette/testclient.py:709: in delete
    return super().delete(
venv/lib/python3.12/site-packages/httpx/_client.py:1253: in delete
    return self.request(
venv/lib/python3.12/site-packages/starlette/testclient.py:491: in request
    return super().request(
venv/lib/python3.12/site-packages/httpx/_client.py:828: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
venv/lib/python3.12/site-packages/httpx/_client.py:915: in send
    response = self._send_handling_auth(
venv/lib/python3.12/site-packages/httpx/_client.py:943: in _send_handling_auth
    response = self._send_handling_redirects(
venv/lib/python3.12/site-packages/httpx/_client.py:980: in _send_handling_redirects
    response = self._send_single_request(request)
venv/lib/python3.12/site-packages/httpx/_client.py:1016: in _send_single_request
    response = transport.handle_request(request)
venv/lib/python3.12/site-packages/starlette/testclient.py:372: in handle_request
    raise exc
venv/lib/python3.12/site-packages/starlette/testclient.py:369: in handle_request
    portal.call(self.app, scope, receive, send)
venv/lib/python3.12/site-packages/anyio/from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
venv/lib/python3.12/site-packages/anyio/from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
venv/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
main.py:31: in log_requests
    response = await call_next(request)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:74: in app
    response = await func(request)
venv/lib/python3.12/site-packages/fastapi/routing.py:299: in app
    raise e
venv/lib/python3.12/site-packages/fastapi/routing.py:294: in app
    raw_response = await run_endpoint_function(
venv/lib/python3.12/site-packages/fastapi/routing.py:191: in run_endpoint_function
    return await dependant.call(**values)
routers/projects.py:107: in delete_project
    cache.clear_pattern(f"projects:user:{current_user.id}:*")
core/cache.py:43: in clear_pattern
    keys = self.redis_client.keys(pattern)
venv/lib/python3.12/site-packages/redis/commands/core.py:1972: in keys
    return self.execute_command("KEYS", pattern, **kwargs)
venv/lib/python3.12/site-packages/redis/client.py:533: in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
venv/lib/python3.12/site-packages/redis/connection.py:1086: in get_connection
    connection.connect()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Connection<host=redis,port=6379,db=0>

    def connect(self):
        "Connects to the Redis server if not already connected"
        if self._sock:
            return
        try:
            sock = self.retry.call_with_retry(
                lambda: self._connect(), lambda error: self.disconnect(error)
            )
        except socket.timeout:
            raise TimeoutError("Timeout connecting to server")
        except OSError as e:
>           raise ConnectionError(self._error_message(e))
E           redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.

venv/lib/python3.12/site-packages/redis/connection.py:270: ConnectionError
---------------------------- Captured stderr setup -----------------------------
INFO:main:POST /auth/token - Status: 200 - Duration: 0.2305s
INFO:httpx:HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
INFO     main:main.py:33 POST /auth/token - Status: 200 - Duration: 0.2305s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stderr call -----------------------------
ERROR:main:Global exception on /projects/1: Error -3 connecting to redis:6379. Temporary failure in name resolution.
------------------------------ Captured log call -------------------------------
ERROR    main:main.py:43 Global exception on /projects/1: Error -3 connecting to redis:6379. Temporary failure in name resolution.
_______________________________ test_create_task _______________________________
  + Exception Group Traceback (most recent call last):
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 345, in from_call
    |     result: Optional[TResult] = func()
    |                                 ^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 266, in <lambda>
    |     lambda: ihook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 87, in pytest_runtest_call
    |     yield from thread_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 63, in thread_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 90, in pytest_runtest_call
    |     yield from unraisable_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 65, in unraisable_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 839, in pytest_runtest_call
    |     yield from self._runtest_for(item, "call")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 822, in _runtest_for
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/capture.py", line 882, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/skipping.py", line 257, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 181, in pytest_runtest_call
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 173, in pytest_runtest_call
    |     item.runtest()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 1836, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 193, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/tests/test_tasks.py", line 13, in test_create_task
    |     response = client.post("/tasks", json=task_data, headers=auth_headers)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 608, in post
    |     return super().post(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1146, in post
    |     return self.request(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 491, in request
    |     return super().request(
    |            ^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 828, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 915, in send
    |     response = self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 943, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 980, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1016, in _send_single_request
    |     response = transport.handle_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 372, in handle_request
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 369, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 290, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 221, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/main.py", line 31, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/routers/tasks.py", line 35, in create_task
    |     cache.clear_pattern(f"tasks:user:{current_user.id}:*")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/core/cache.py", line 43, in clear_pattern
    |     keys = self.redis_client.keys(pattern)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/commands/core.py", line 1972, in keys
    |     return self.execute_command("KEYS", pattern, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/client.py", line 533, in execute_command
    |     conn = self.connection or pool.get_connection(command_name, **options)
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 1086, in get_connection
    |     connection.connect()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 270, in connect
    |     raise ConnectionError(self._error_message(e))
    | redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
    +------------------------------------

During handling of the above exception, another exception occurred:

client = <starlette.testclient.TestClient object at 0x7da71eef4170>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImV4cCI6MTc0OTQ1ODIyMH0.cnRM-OEHyzzoZmJIv9_M4bgbwKPGCxiYO4UC9qqPwqM'}

    def test_create_task(client, auth_headers):
        """Test creating a new task."""
        task_data = {
            "title": "Test Task",
            "description": "A test task",
            "priority": "High",
            "due_date": "2024-12-31"
        }
>       response = client.post("/tasks", json=task_data, headers=auth_headers)

tests/test_tasks.py:13: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.12/site-packages/starlette/testclient.py:608: in post
    return super().post(
venv/lib/python3.12/site-packages/httpx/_client.py:1146: in post
    return self.request(
venv/lib/python3.12/site-packages/starlette/testclient.py:491: in request
    return super().request(
venv/lib/python3.12/site-packages/httpx/_client.py:828: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
venv/lib/python3.12/site-packages/httpx/_client.py:915: in send
    response = self._send_handling_auth(
venv/lib/python3.12/site-packages/httpx/_client.py:943: in _send_handling_auth
    response = self._send_handling_redirects(
venv/lib/python3.12/site-packages/httpx/_client.py:980: in _send_handling_redirects
    response = self._send_single_request(request)
venv/lib/python3.12/site-packages/httpx/_client.py:1016: in _send_single_request
    response = transport.handle_request(request)
venv/lib/python3.12/site-packages/starlette/testclient.py:372: in handle_request
    raise exc
venv/lib/python3.12/site-packages/starlette/testclient.py:369: in handle_request
    portal.call(self.app, scope, receive, send)
venv/lib/python3.12/site-packages/anyio/from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
venv/lib/python3.12/site-packages/anyio/from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
venv/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
main.py:31: in log_requests
    response = await call_next(request)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:74: in app
    response = await func(request)
venv/lib/python3.12/site-packages/fastapi/routing.py:299: in app
    raise e
venv/lib/python3.12/site-packages/fastapi/routing.py:294: in app
    raw_response = await run_endpoint_function(
venv/lib/python3.12/site-packages/fastapi/routing.py:191: in run_endpoint_function
    return await dependant.call(**values)
routers/tasks.py:35: in create_task
    cache.clear_pattern(f"tasks:user:{current_user.id}:*")
core/cache.py:43: in clear_pattern
    keys = self.redis_client.keys(pattern)
venv/lib/python3.12/site-packages/redis/commands/core.py:1972: in keys
    return self.execute_command("KEYS", pattern, **kwargs)
venv/lib/python3.12/site-packages/redis/client.py:533: in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
venv/lib/python3.12/site-packages/redis/connection.py:1086: in get_connection
    connection.connect()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Connection<host=redis,port=6379,db=0>

    def connect(self):
        "Connects to the Redis server if not already connected"
        if self._sock:
            return
        try:
            sock = self.retry.call_with_retry(
                lambda: self._connect(), lambda error: self.disconnect(error)
            )
        except socket.timeout:
            raise TimeoutError("Timeout connecting to server")
        except OSError as e:
>           raise ConnectionError(self._error_message(e))
E           redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.

venv/lib/python3.12/site-packages/redis/connection.py:270: ConnectionError
---------------------------- Captured stderr setup -----------------------------
INFO:main:POST /auth/token - Status: 200 - Duration: 0.2188s
INFO:httpx:HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
INFO     main:main.py:33 POST /auth/token - Status: 200 - Duration: 0.2188s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stderr call -----------------------------
INFO:main:POST /tasks - Status: 307 - Duration: 0.0002s
INFO:httpx:HTTP Request: POST http://testserver/tasks "HTTP/1.1 307 Temporary Redirect"
ERROR:main:Global exception on /tasks/: Error -3 connecting to redis:6379. Temporary failure in name resolution.
------------------------------ Captured log call -------------------------------
INFO     main:main.py:33 POST /tasks - Status: 307 - Duration: 0.0002s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/tasks "HTTP/1.1 307 Temporary Redirect"
ERROR    main:main.py:43 Global exception on /tasks/: Error -3 connecting to redis:6379. Temporary failure in name resolution.
________________________ test_create_task_with_project _________________________
  + Exception Group Traceback (most recent call last):
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 345, in from_call
    |     result: Optional[TResult] = func()
    |                                 ^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 266, in <lambda>
    |     lambda: ihook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 87, in pytest_runtest_call
    |     yield from thread_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 63, in thread_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 90, in pytest_runtest_call
    |     yield from unraisable_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 65, in unraisable_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 839, in pytest_runtest_call
    |     yield from self._runtest_for(item, "call")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 822, in _runtest_for
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/capture.py", line 882, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/skipping.py", line 257, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 181, in pytest_runtest_call
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 173, in pytest_runtest_call
    |     item.runtest()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 1836, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 193, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/tests/test_tasks.py", line 39, in test_create_task_with_project
    |     response = client.post("/tasks", json=task_data, headers=auth_headers)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 608, in post
    |     return super().post(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1146, in post
    |     return self.request(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 491, in request
    |     return super().request(
    |            ^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 828, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 915, in send
    |     response = self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 943, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 980, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1016, in _send_single_request
    |     response = transport.handle_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 372, in handle_request
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 369, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 290, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 221, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/main.py", line 31, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/routers/tasks.py", line 35, in create_task
    |     cache.clear_pattern(f"tasks:user:{current_user.id}:*")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/core/cache.py", line 43, in clear_pattern
    |     keys = self.redis_client.keys(pattern)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/commands/core.py", line 1972, in keys
    |     return self.execute_command("KEYS", pattern, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/client.py", line 533, in execute_command
    |     conn = self.connection or pool.get_connection(command_name, **options)
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 1086, in get_connection
    |     connection.connect()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 270, in connect
    |     raise ConnectionError(self._error_message(e))
    | redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
    +------------------------------------

During handling of the above exception, another exception occurred:

client = <starlette.testclient.TestClient object at 0x7da71ee721b0>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImV4cCI6MTc0OTQ1ODIyMX0.wUce2eJjYG7mUJCfWLcWMIx7KyLswR38h2jrMOcuDlU'}
test_user = <models.User object at 0x7da71eec3dd0>
db_session = <sqlalchemy.orm.session.Session object at 0x7da7203c1bb0>

    def test_create_task_with_project(client, auth_headers, test_user, db_session):
        """Test creating a task with project assignment."""
        from models import Project
    
        project = Project(
            name="Test Project",
            description="Project for task",
            owner_id=test_user.id
        )
        db_session.add(project)
        db_session.commit()
        db_session.refresh(project)
    
        task_data = {
            "title": "Project Task",
            "description": "Task with project",
            "project_id": project.id
        }
>       response = client.post("/tasks", json=task_data, headers=auth_headers)

tests/test_tasks.py:39: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.12/site-packages/starlette/testclient.py:608: in post
    return super().post(
venv/lib/python3.12/site-packages/httpx/_client.py:1146: in post
    return self.request(
venv/lib/python3.12/site-packages/starlette/testclient.py:491: in request
    return super().request(
venv/lib/python3.12/site-packages/httpx/_client.py:828: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
venv/lib/python3.12/site-packages/httpx/_client.py:915: in send
    response = self._send_handling_auth(
venv/lib/python3.12/site-packages/httpx/_client.py:943: in _send_handling_auth
    response = self._send_handling_redirects(
venv/lib/python3.12/site-packages/httpx/_client.py:980: in _send_handling_redirects
    response = self._send_single_request(request)
venv/lib/python3.12/site-packages/httpx/_client.py:1016: in _send_single_request
    response = transport.handle_request(request)
venv/lib/python3.12/site-packages/starlette/testclient.py:372: in handle_request
    raise exc
venv/lib/python3.12/site-packages/starlette/testclient.py:369: in handle_request
    portal.call(self.app, scope, receive, send)
venv/lib/python3.12/site-packages/anyio/from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
venv/lib/python3.12/site-packages/anyio/from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
venv/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
main.py:31: in log_requests
    response = await call_next(request)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:74: in app
    response = await func(request)
venv/lib/python3.12/site-packages/fastapi/routing.py:299: in app
    raise e
venv/lib/python3.12/site-packages/fastapi/routing.py:294: in app
    raw_response = await run_endpoint_function(
venv/lib/python3.12/site-packages/fastapi/routing.py:191: in run_endpoint_function
    return await dependant.call(**values)
routers/tasks.py:35: in create_task
    cache.clear_pattern(f"tasks:user:{current_user.id}:*")
core/cache.py:43: in clear_pattern
    keys = self.redis_client.keys(pattern)
venv/lib/python3.12/site-packages/redis/commands/core.py:1972: in keys
    return self.execute_command("KEYS", pattern, **kwargs)
venv/lib/python3.12/site-packages/redis/client.py:533: in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
venv/lib/python3.12/site-packages/redis/connection.py:1086: in get_connection
    connection.connect()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Connection<host=redis,port=6379,db=0>

    def connect(self):
        "Connects to the Redis server if not already connected"
        if self._sock:
            return
        try:
            sock = self.retry.call_with_retry(
                lambda: self._connect(), lambda error: self.disconnect(error)
            )
        except socket.timeout:
            raise TimeoutError("Timeout connecting to server")
        except OSError as e:
>           raise ConnectionError(self._error_message(e))
E           redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.

venv/lib/python3.12/site-packages/redis/connection.py:270: ConnectionError
---------------------------- Captured stderr setup -----------------------------
INFO:main:POST /auth/token - Status: 200 - Duration: 0.2117s
INFO:httpx:HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
INFO     main:main.py:33 POST /auth/token - Status: 200 - Duration: 0.2117s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stderr call -----------------------------
INFO:main:POST /tasks - Status: 307 - Duration: 0.0002s
INFO:httpx:HTTP Request: POST http://testserver/tasks "HTTP/1.1 307 Temporary Redirect"
ERROR:main:Global exception on /tasks/: Error -3 connecting to redis:6379. Temporary failure in name resolution.
------------------------------ Captured log call -------------------------------
INFO     main:main.py:33 POST /tasks - Status: 307 - Duration: 0.0002s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/tasks "HTTP/1.1 307 Temporary Redirect"
ERROR    main:main.py:43 Global exception on /tasks/: Error -3 connecting to redis:6379. Temporary failure in name resolution.
________________________________ test_get_tasks ________________________________
  + Exception Group Traceback (most recent call last):
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 345, in from_call
    |     result: Optional[TResult] = func()
    |                                 ^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 266, in <lambda>
    |     lambda: ihook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 87, in pytest_runtest_call
    |     yield from thread_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 63, in thread_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 90, in pytest_runtest_call
    |     yield from unraisable_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 65, in unraisable_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 839, in pytest_runtest_call
    |     yield from self._runtest_for(item, "call")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 822, in _runtest_for
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/capture.py", line 882, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/skipping.py", line 257, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 181, in pytest_runtest_call
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 173, in pytest_runtest_call
    |     item.runtest()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 1836, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 193, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/tests/test_tasks.py", line 57, in test_get_tasks
    |     response = client.get("/tasks", headers=auth_headers)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 523, in get
    |     return super().get(
    |            ^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1055, in get
    |     return self.request(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 491, in request
    |     return super().request(
    |            ^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 828, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 915, in send
    |     response = self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 943, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 980, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1016, in _send_single_request
    |     response = transport.handle_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 372, in handle_request
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 369, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 290, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 221, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/main.py", line 31, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/routers/tasks.py", line 47, in read_tasks
    |     cached_tasks = cache.get(cache_key)
    |                    ^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/core/cache.py", line 26, in get
    |     data = self.redis_client.get(key)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/commands/core.py", line 1829, in get
    |     return self.execute_command("GET", name)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/client.py", line 533, in execute_command
    |     conn = self.connection or pool.get_connection(command_name, **options)
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 1086, in get_connection
    |     connection.connect()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 270, in connect
    |     raise ConnectionError(self._error_message(e))
    | redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
    +------------------------------------

During handling of the above exception, another exception occurred:

client = <starlette.testclient.TestClient object at 0x7da71eecae70>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImV4cCI6MTc0OTQ1ODIyMn0.kYxvt36wUjuvoeac4KJmzQqrC3-F8qk0adDeOWJTuAs'}
test_user = <models.User object at 0x7da71df3f1a0>
db_session = <sqlalchemy.orm.session.Session object at 0x7da71eec9670>

    def test_get_tasks(client, auth_headers, test_user, db_session):
        """Test retrieving tasks."""
        from models import Task
    
        task = Task(
            title="Test Task",
            description="Test description",
            priority="Medium",
            owner_id=test_user.id
        )
        db_session.add(task)
        db_session.commit()
    
>       response = client.get("/tasks", headers=auth_headers)

tests/test_tasks.py:57: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.12/site-packages/starlette/testclient.py:523: in get
    return super().get(
venv/lib/python3.12/site-packages/httpx/_client.py:1055: in get
    return self.request(
venv/lib/python3.12/site-packages/starlette/testclient.py:491: in request
    return super().request(
venv/lib/python3.12/site-packages/httpx/_client.py:828: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
venv/lib/python3.12/site-packages/httpx/_client.py:915: in send
    response = self._send_handling_auth(
venv/lib/python3.12/site-packages/httpx/_client.py:943: in _send_handling_auth
    response = self._send_handling_redirects(
venv/lib/python3.12/site-packages/httpx/_client.py:980: in _send_handling_redirects
    response = self._send_single_request(request)
venv/lib/python3.12/site-packages/httpx/_client.py:1016: in _send_single_request
    response = transport.handle_request(request)
venv/lib/python3.12/site-packages/starlette/testclient.py:372: in handle_request
    raise exc
venv/lib/python3.12/site-packages/starlette/testclient.py:369: in handle_request
    portal.call(self.app, scope, receive, send)
venv/lib/python3.12/site-packages/anyio/from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
venv/lib/python3.12/site-packages/anyio/from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
venv/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
main.py:31: in log_requests
    response = await call_next(request)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:74: in app
    response = await func(request)
venv/lib/python3.12/site-packages/fastapi/routing.py:299: in app
    raise e
venv/lib/python3.12/site-packages/fastapi/routing.py:294: in app
    raw_response = await run_endpoint_function(
venv/lib/python3.12/site-packages/fastapi/routing.py:191: in run_endpoint_function
    return await dependant.call(**values)
routers/tasks.py:47: in read_tasks
    cached_tasks = cache.get(cache_key)
core/cache.py:26: in get
    data = self.redis_client.get(key)
venv/lib/python3.12/site-packages/redis/commands/core.py:1829: in get
    return self.execute_command("GET", name)
venv/lib/python3.12/site-packages/redis/client.py:533: in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
venv/lib/python3.12/site-packages/redis/connection.py:1086: in get_connection
    connection.connect()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Connection<host=redis,port=6379,db=0>

    def connect(self):
        "Connects to the Redis server if not already connected"
        if self._sock:
            return
        try:
            sock = self.retry.call_with_retry(
                lambda: self._connect(), lambda error: self.disconnect(error)
            )
        except socket.timeout:
            raise TimeoutError("Timeout connecting to server")
        except OSError as e:
>           raise ConnectionError(self._error_message(e))
E           redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.

venv/lib/python3.12/site-packages/redis/connection.py:270: ConnectionError
---------------------------- Captured stderr setup -----------------------------
INFO:main:POST /auth/token - Status: 200 - Duration: 0.2527s
INFO:httpx:HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
INFO     main:main.py:33 POST /auth/token - Status: 200 - Duration: 0.2527s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stderr call -----------------------------
INFO:main:GET /tasks - Status: 307 - Duration: 0.0004s
INFO:httpx:HTTP Request: GET http://testserver/tasks "HTTP/1.1 307 Temporary Redirect"
ERROR:main:Global exception on /tasks/: Error -3 connecting to redis:6379. Temporary failure in name resolution.
------------------------------ Captured log call -------------------------------
INFO     main:main.py:33 GET /tasks - Status: 307 - Duration: 0.0004s
INFO     httpx:_client.py:1027 HTTP Request: GET http://testserver/tasks "HTTP/1.1 307 Temporary Redirect"
ERROR    main:main.py:43 Global exception on /tasks/: Error -3 connecting to redis:6379. Temporary failure in name resolution.
_________________________ test_update_task_completion __________________________
  + Exception Group Traceback (most recent call last):
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 345, in from_call
    |     result: Optional[TResult] = func()
    |                                 ^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 266, in <lambda>
    |     lambda: ihook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 87, in pytest_runtest_call
    |     yield from thread_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 63, in thread_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 90, in pytest_runtest_call
    |     yield from unraisable_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 65, in unraisable_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 839, in pytest_runtest_call
    |     yield from self._runtest_for(item, "call")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 822, in _runtest_for
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/capture.py", line 882, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/skipping.py", line 257, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 181, in pytest_runtest_call
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 173, in pytest_runtest_call
    |     item.runtest()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 1836, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 193, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/tests/test_tasks.py", line 78, in test_update_task_completion
    |     response = client.put(f"/tasks/{task.id}", json=update_data, headers=auth_headers)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 643, in put
    |     return super().put(
    |            ^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1183, in put
    |     return self.request(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 491, in request
    |     return super().request(
    |            ^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 828, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 915, in send
    |     response = self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 943, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 980, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1016, in _send_single_request
    |     response = transport.handle_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 372, in handle_request
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 369, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 290, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 221, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/main.py", line 31, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/routers/tasks.py", line 90, in update_task
    |     cache.clear_pattern(f"tasks:user:{current_user.id}:*")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/core/cache.py", line 43, in clear_pattern
    |     keys = self.redis_client.keys(pattern)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/commands/core.py", line 1972, in keys
    |     return self.execute_command("KEYS", pattern, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/client.py", line 533, in execute_command
    |     conn = self.connection or pool.get_connection(command_name, **options)
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 1086, in get_connection
    |     connection.connect()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 270, in connect
    |     raise ConnectionError(self._error_message(e))
    | redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
    +------------------------------------

During handling of the above exception, another exception occurred:

client = <starlette.testclient.TestClient object at 0x7da71df3e990>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImV4cCI6MTc0OTQ1ODIyMn0.kYxvt36wUjuvoeac4KJmzQqrC3-F8qk0adDeOWJTuAs'}
test_user = <models.User object at 0x7da71df58080>
db_session = <sqlalchemy.orm.session.Session object at 0x7da71df3f050>

    def test_update_task_completion(client, auth_headers, test_user, db_session):
        """Test updating task completion status."""
        from models import Task
    
        task = Task(
            title="Incomplete Task",
            description="Task to complete",
            completed=False,
            owner_id=test_user.id
        )
        db_session.add(task)
        db_session.commit()
        db_session.refresh(task)
    
        update_data = {"completed": True}
>       response = client.put(f"/tasks/{task.id}", json=update_data, headers=auth_headers)

tests/test_tasks.py:78: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.12/site-packages/starlette/testclient.py:643: in put
    return super().put(
venv/lib/python3.12/site-packages/httpx/_client.py:1183: in put
    return self.request(
venv/lib/python3.12/site-packages/starlette/testclient.py:491: in request
    return super().request(
venv/lib/python3.12/site-packages/httpx/_client.py:828: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
venv/lib/python3.12/site-packages/httpx/_client.py:915: in send
    response = self._send_handling_auth(
venv/lib/python3.12/site-packages/httpx/_client.py:943: in _send_handling_auth
    response = self._send_handling_redirects(
venv/lib/python3.12/site-packages/httpx/_client.py:980: in _send_handling_redirects
    response = self._send_single_request(request)
venv/lib/python3.12/site-packages/httpx/_client.py:1016: in _send_single_request
    response = transport.handle_request(request)
venv/lib/python3.12/site-packages/starlette/testclient.py:372: in handle_request
    raise exc
venv/lib/python3.12/site-packages/starlette/testclient.py:369: in handle_request
    portal.call(self.app, scope, receive, send)
venv/lib/python3.12/site-packages/anyio/from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
venv/lib/python3.12/site-packages/anyio/from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
venv/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
main.py:31: in log_requests
    response = await call_next(request)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:74: in app
    response = await func(request)
venv/lib/python3.12/site-packages/fastapi/routing.py:299: in app
    raise e
venv/lib/python3.12/site-packages/fastapi/routing.py:294: in app
    raw_response = await run_endpoint_function(
venv/lib/python3.12/site-packages/fastapi/routing.py:191: in run_endpoint_function
    return await dependant.call(**values)
routers/tasks.py:90: in update_task
    cache.clear_pattern(f"tasks:user:{current_user.id}:*")
core/cache.py:43: in clear_pattern
    keys = self.redis_client.keys(pattern)
venv/lib/python3.12/site-packages/redis/commands/core.py:1972: in keys
    return self.execute_command("KEYS", pattern, **kwargs)
venv/lib/python3.12/site-packages/redis/client.py:533: in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
venv/lib/python3.12/site-packages/redis/connection.py:1086: in get_connection
    connection.connect()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Connection<host=redis,port=6379,db=0>

    def connect(self):
        "Connects to the Redis server if not already connected"
        if self._sock:
            return
        try:
            sock = self.retry.call_with_retry(
                lambda: self._connect(), lambda error: self.disconnect(error)
            )
        except socket.timeout:
            raise TimeoutError("Timeout connecting to server")
        except OSError as e:
>           raise ConnectionError(self._error_message(e))
E           redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.

venv/lib/python3.12/site-packages/redis/connection.py:270: ConnectionError
---------------------------- Captured stderr setup -----------------------------
INFO:main:POST /auth/token - Status: 200 - Duration: 0.2307s
INFO:httpx:HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
INFO     main:main.py:33 POST /auth/token - Status: 200 - Duration: 0.2307s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stderr call -----------------------------
ERROR:main:Global exception on /tasks/1: Error -3 connecting to redis:6379. Temporary failure in name resolution.
------------------------------ Captured log call -------------------------------
ERROR    main:main.py:43 Global exception on /tasks/1: Error -3 connecting to redis:6379. Temporary failure in name resolution.
__________________________ test_update_task_priority ___________________________
  + Exception Group Traceback (most recent call last):
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 345, in from_call
    |     result: Optional[TResult] = func()
    |                                 ^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 266, in <lambda>
    |     lambda: ihook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 87, in pytest_runtest_call
    |     yield from thread_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 63, in thread_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 90, in pytest_runtest_call
    |     yield from unraisable_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 65, in unraisable_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 839, in pytest_runtest_call
    |     yield from self._runtest_for(item, "call")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 822, in _runtest_for
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/capture.py", line 882, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/skipping.py", line 257, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 181, in pytest_runtest_call
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 173, in pytest_runtest_call
    |     item.runtest()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 1836, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 193, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/tests/test_tasks.py", line 98, in test_update_task_priority
    |     response = client.put(f"/tasks/{task.id}", json=update_data, headers=auth_headers)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 643, in put
    |     return super().put(
    |            ^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1183, in put
    |     return self.request(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 491, in request
    |     return super().request(
    |            ^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 828, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 915, in send
    |     response = self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 943, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 980, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1016, in _send_single_request
    |     response = transport.handle_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 372, in handle_request
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 369, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 290, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 221, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/main.py", line 31, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/routers/tasks.py", line 90, in update_task
    |     cache.clear_pattern(f"tasks:user:{current_user.id}:*")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/core/cache.py", line 43, in clear_pattern
    |     keys = self.redis_client.keys(pattern)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/commands/core.py", line 1972, in keys
    |     return self.execute_command("KEYS", pattern, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/client.py", line 533, in execute_command
    |     conn = self.connection or pool.get_connection(command_name, **options)
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 1086, in get_connection
    |     connection.connect()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 270, in connect
    |     raise ConnectionError(self._error_message(e))
    | redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
    +------------------------------------

During handling of the above exception, another exception occurred:

client = <starlette.testclient.TestClient object at 0x7da71df5aff0>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImV4cCI6MTc0OTQ1ODIyM30.oQkfwm5VU7VTHFRelUXYxWEoZ2KM6zhuvo2qv_7eRTM'}
test_user = <models.User object at 0x7da71df59f70>
db_session = <sqlalchemy.orm.session.Session object at 0x7da71df5a8d0>

    def test_update_task_priority(client, auth_headers, test_user, db_session):
        """Test updating task priority."""
        from models import Task
    
        task = Task(
            title="Priority Task",
            description="Task to update priority",
            priority="Low",
            owner_id=test_user.id
        )
        db_session.add(task)
        db_session.commit()
        db_session.refresh(task)
    
        update_data = {"priority": "High"}
>       response = client.put(f"/tasks/{task.id}", json=update_data, headers=auth_headers)

tests/test_tasks.py:98: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.12/site-packages/starlette/testclient.py:643: in put
    return super().put(
venv/lib/python3.12/site-packages/httpx/_client.py:1183: in put
    return self.request(
venv/lib/python3.12/site-packages/starlette/testclient.py:491: in request
    return super().request(
venv/lib/python3.12/site-packages/httpx/_client.py:828: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
venv/lib/python3.12/site-packages/httpx/_client.py:915: in send
    response = self._send_handling_auth(
venv/lib/python3.12/site-packages/httpx/_client.py:943: in _send_handling_auth
    response = self._send_handling_redirects(
venv/lib/python3.12/site-packages/httpx/_client.py:980: in _send_handling_redirects
    response = self._send_single_request(request)
venv/lib/python3.12/site-packages/httpx/_client.py:1016: in _send_single_request
    response = transport.handle_request(request)
venv/lib/python3.12/site-packages/starlette/testclient.py:372: in handle_request
    raise exc
venv/lib/python3.12/site-packages/starlette/testclient.py:369: in handle_request
    portal.call(self.app, scope, receive, send)
venv/lib/python3.12/site-packages/anyio/from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
venv/lib/python3.12/site-packages/anyio/from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
venv/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
main.py:31: in log_requests
    response = await call_next(request)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:74: in app
    response = await func(request)
venv/lib/python3.12/site-packages/fastapi/routing.py:299: in app
    raise e
venv/lib/python3.12/site-packages/fastapi/routing.py:294: in app
    raw_response = await run_endpoint_function(
venv/lib/python3.12/site-packages/fastapi/routing.py:191: in run_endpoint_function
    return await dependant.call(**values)
routers/tasks.py:90: in update_task
    cache.clear_pattern(f"tasks:user:{current_user.id}:*")
core/cache.py:43: in clear_pattern
    keys = self.redis_client.keys(pattern)
venv/lib/python3.12/site-packages/redis/commands/core.py:1972: in keys
    return self.execute_command("KEYS", pattern, **kwargs)
venv/lib/python3.12/site-packages/redis/client.py:533: in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
venv/lib/python3.12/site-packages/redis/connection.py:1086: in get_connection
    connection.connect()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Connection<host=redis,port=6379,db=0>

    def connect(self):
        "Connects to the Redis server if not already connected"
        if self._sock:
            return
        try:
            sock = self.retry.call_with_retry(
                lambda: self._connect(), lambda error: self.disconnect(error)
            )
        except socket.timeout:
            raise TimeoutError("Timeout connecting to server")
        except OSError as e:
>           raise ConnectionError(self._error_message(e))
E           redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.

venv/lib/python3.12/site-packages/redis/connection.py:270: ConnectionError
---------------------------- Captured stderr setup -----------------------------
INFO:main:POST /auth/token - Status: 200 - Duration: 0.2333s
INFO:httpx:HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
INFO     main:main.py:33 POST /auth/token - Status: 200 - Duration: 0.2333s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stderr call -----------------------------
ERROR:main:Global exception on /tasks/1: Error -3 connecting to redis:6379. Temporary failure in name resolution.
------------------------------ Captured log call -------------------------------
ERROR    main:main.py:43 Global exception on /tasks/1: Error -3 connecting to redis:6379. Temporary failure in name resolution.
_______________________________ test_delete_task _______________________________
  + Exception Group Traceback (most recent call last):
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 345, in from_call
    |     result: Optional[TResult] = func()
    |                                 ^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 266, in <lambda>
    |     lambda: ihook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 87, in pytest_runtest_call
    |     yield from thread_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/threadexception.py", line 63, in thread_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 90, in pytest_runtest_call
    |     yield from unraisable_exception_runtest_hook()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/unraisableexception.py", line 65, in unraisable_exception_runtest_hook
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 839, in pytest_runtest_call
    |     yield from self._runtest_for(item, "call")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/logging.py", line 822, in _runtest_for
    |     yield
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/capture.py", line 882, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/skipping.py", line 257, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 181, in pytest_runtest_call
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/runner.py", line 173, in pytest_runtest_call
    |     item.runtest()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 1836, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/_pytest/python.py", line 193, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/tests/test_tasks.py", line 116, in test_delete_task
    |     response = client.delete(f"/tasks/{task.id}", headers=auth_headers)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 709, in delete
    |     return super().delete(
    |            ^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1253, in delete
    |     return self.request(
    |            ^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 491, in request
    |     return super().request(
    |            ^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 828, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 915, in send
    |     response = self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 943, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 980, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/httpx/_client.py", line 1016, in _send_single_request
    |     response = transport.handle_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 372, in handle_request
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/testclient.py", line 369, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 290, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 221, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/main.py", line 31, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/routers/tasks.py", line 107, in delete_task
    |     cache.clear_pattern(f"tasks:user:{current_user.id}:*")
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/core/cache.py", line 43, in clear_pattern
    |     keys = self.redis_client.keys(pattern)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/commands/core.py", line 1972, in keys
    |     return self.execute_command("KEYS", pattern, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/client.py", line 533, in execute_command
    |     conn = self.connection or pool.get_connection(command_name, **options)
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 1086, in get_connection
    |     connection.connect()
    |   File "/var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/redis/connection.py", line 270, in connect
    |     raise ConnectionError(self._error_message(e))
    | redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
    +------------------------------------

During handling of the above exception, another exception occurred:

client = <starlette.testclient.TestClient object at 0x7da71df59ac0>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImV4cCI6MTc0OTQ1ODIyNH0.OKlap56PlBCobXXpvmKa5CeVEqIwdJdW9J1aq-OoNvU'}
test_user = <models.User object at 0x7da71eecac60>
db_session = <sqlalchemy.orm.session.Session object at 0x7da71df59f40>

    def test_delete_task(client, auth_headers, test_user, db_session):
        """Test deleting a task."""
        from models import Task
    
        task = Task(
            title="To Delete",
            description="Will be deleted",
            owner_id=test_user.id
        )
        db_session.add(task)
        db_session.commit()
        db_session.refresh(task)
    
>       response = client.delete(f"/tasks/{task.id}", headers=auth_headers)

tests/test_tasks.py:116: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.12/site-packages/starlette/testclient.py:709: in delete
    return super().delete(
venv/lib/python3.12/site-packages/httpx/_client.py:1253: in delete
    return self.request(
venv/lib/python3.12/site-packages/starlette/testclient.py:491: in request
    return super().request(
venv/lib/python3.12/site-packages/httpx/_client.py:828: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
venv/lib/python3.12/site-packages/httpx/_client.py:915: in send
    response = self._send_handling_auth(
venv/lib/python3.12/site-packages/httpx/_client.py:943: in _send_handling_auth
    response = self._send_handling_redirects(
venv/lib/python3.12/site-packages/httpx/_client.py:980: in _send_handling_redirects
    response = self._send_single_request(request)
venv/lib/python3.12/site-packages/httpx/_client.py:1016: in _send_single_request
    response = transport.handle_request(request)
venv/lib/python3.12/site-packages/starlette/testclient.py:372: in handle_request
    raise exc
venv/lib/python3.12/site-packages/starlette/testclient.py:369: in handle_request
    portal.call(self.app, scope, receive, send)
venv/lib/python3.12/site-packages/anyio/from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
venv/lib/python3.12/site-packages/anyio/from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
venv/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
main.py:31: in log_requests
    response = await call_next(request)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/starlette/routing.py:74: in app
    response = await func(request)
venv/lib/python3.12/site-packages/fastapi/routing.py:299: in app
    raise e
venv/lib/python3.12/site-packages/fastapi/routing.py:294: in app
    raw_response = await run_endpoint_function(
venv/lib/python3.12/site-packages/fastapi/routing.py:191: in run_endpoint_function
    return await dependant.call(**values)
routers/tasks.py:107: in delete_task
    cache.clear_pattern(f"tasks:user:{current_user.id}:*")
core/cache.py:43: in clear_pattern
    keys = self.redis_client.keys(pattern)
venv/lib/python3.12/site-packages/redis/commands/core.py:1972: in keys
    return self.execute_command("KEYS", pattern, **kwargs)
venv/lib/python3.12/site-packages/redis/client.py:533: in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
venv/lib/python3.12/site-packages/redis/connection.py:1086: in get_connection
    connection.connect()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Connection<host=redis,port=6379,db=0>

    def connect(self):
        "Connects to the Redis server if not already connected"
        if self._sock:
            return
        try:
            sock = self.retry.call_with_retry(
                lambda: self._connect(), lambda error: self.disconnect(error)
            )
        except socket.timeout:
            raise TimeoutError("Timeout connecting to server")
        except OSError as e:
>           raise ConnectionError(self._error_message(e))
E           redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.

venv/lib/python3.12/site-packages/redis/connection.py:270: ConnectionError
---------------------------- Captured stderr setup -----------------------------
INFO:main:POST /auth/token - Status: 200 - Duration: 0.2348s
INFO:httpx:HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
INFO     main:main.py:33 POST /auth/token - Status: 200 - Duration: 0.2348s
INFO     httpx:_client.py:1027 HTTP Request: POST http://testserver/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stderr call -----------------------------
ERROR:main:Global exception on /tasks/1: Error -3 connecting to redis:6379. Temporary failure in name resolution.
------------------------------ Captured log call -------------------------------
ERROR    main:main.py:43 Global exception on /tasks/1: Error -3 connecting to redis:6379. Temporary failure in name resolution.
=============================== warnings summary ===============================
venv/lib/python3.12/site-packages/passlib/utils/__init__.py:854
  /var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: 'crypt' is deprecated and slated for removal in Python 3.13
    from crypt import crypt as _crypt

database.py:20
  /var/lib/jenkins/workspace/TaskFlow-CI/backend/database.py:20: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    Base = declarative_base()

models.py:6
  /var/lib/jenkins/workspace/TaskFlow-CI/backend/models.py:6: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    Base = declarative_base()

venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:272
venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:272
venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:272
  /var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:272: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.6/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

venv/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:263
venv/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:263
  /var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:263: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.6/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.6/migration/
    warnings.warn(

tests/test_auth.py: 8 warnings
tests/test_projects.py: 21 warnings
tests/test_tasks.py: 28 warnings
  /var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py:3585: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore

tests/test_auth.py: 1 warning
tests/test_projects.py: 5 warnings
tests/test_tasks.py: 6 warnings
  /var/lib/jenkins/workspace/TaskFlow-CI/backend/core/security.py:35: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    expire = datetime.utcnow() + expires_delta

tests/test_projects.py: 5 warnings
tests/test_tasks.py: 6 warnings
  /var/lib/jenkins/workspace/TaskFlow-CI/backend/venv/lib/python3.12/site-packages/jose/jwt.py:311: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    now = timegm(datetime.utcnow().utctimetuple())

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/test_health.py::test_detailed_health_check - assert 503 == 200
 +  where 503 = <Response [503 Service Unavailable]>.status_code
 +  and   200 = status.HTTP_200_OK
FAILED tests/test_projects.py::test_create_project - redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
FAILED tests/test_projects.py::test_get_projects - redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
FAILED tests/test_projects.py::test_update_project - redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
FAILED tests/test_projects.py::test_delete_project - redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
FAILED tests/test_tasks.py::test_create_task - redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
FAILED tests/test_tasks.py::test_create_task_with_project - redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
FAILED tests/test_tasks.py::test_get_tasks - redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
FAILED tests/test_tasks.py::test_update_task_completion - redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
FAILED tests/test_tasks.py::test_update_task_priority - redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
FAILED tests/test_tasks.py::test_delete_task - redis.exceptions.ConnectionError: Error -3 connecting to redis:6379. Temporary failure in name resolution.
================= 11 failed, 10 passed, 88 warnings in 10.05s ==================
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build Frontend)
Stage "Build Frontend" skipped due to earlier failure(s)
[Pipeline] getContext
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Docker Compose Up)
Stage "Docker Compose Up" skipped due to earlier failure(s)
[Pipeline] getContext
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
ERROR: script returned exit code 1
Finished: FAILURE
